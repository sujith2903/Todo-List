(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(n){e(1,arguments);var o=function(n){e(1,arguments);var o=Object.prototype.toString.call(n);return n instanceof Date||"object"===t(n)&&"[object Date]"===o?new Date(n.getTime()):"number"==typeof n||"[object Number]"===o?new Date(n):("string"!=typeof n&&"[object String]"!==o||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(n);return o.setHours(0,0,0,0),o}function o(t){return e(1,arguments),function(t,o){e(2,arguments);var c=n(t),r=n(o);return c.getTime()===r.getTime()}(t,Date.now())}const c=function(){let e,t,n;const c=document.querySelector(".projects-lists"),r=document.querySelector(".main-content"),a=document.querySelector(".due-content"),l=document.querySelector(".project-title"),i=document.querySelector(".project-description"),d=document.querySelector(".project-due"),u=document.querySelector(".priority"),p=document.querySelector(".task-button"),y=document.querySelector(".all-tasks"),m=document.querySelector(".due-today"),f=(document.querySelector(".due-this-week"),function(e){s.myProjectArray[e]===n&&(r.style.display="none"),s.myProjectArray.splice(e,1)}),k=function(){const e=document.createElement("div");e.classList.add("individual-task"),y.appendChild(e);const t=document.createElement("div");t.classList.add("task-checkbox-div"),e.appendChild(t),t.innerHTML='<label for="task1-checkbox"></label><input type="checkbox" class = "task-checkbox" id="task1-checkbox" name="checkbox">';const n=document.createElement("div");n.classList.add("task-input-div"),e.appendChild(n),n.innerHTML='<label for="task1-input"></label><input type="text" class="task-input" id="task1-input" name="task" required>';const o=document.createElement("div");o.classList.add("task-delete-button"),e.appendChild(o),o.innerHTML='<svg class="deleteSVG" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="deleteSVG" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>'},g=function(e,t){return null==t&&(t=!1),{taskName:e,isCompleted:t}};return c.addEventListener("click",(t=>{if(t.target.classList.contains("project")||t.target.classList.contains("deleteSVG")||t.target.classList.contains("editSVG")){let n=t.target.closest(".project-display");e=Array.from(n.parentNode.children).indexOf(n)}})),c.addEventListener("click",(t=>{if(t.target.classList.contains("deleteSVG")){const n=t.target.closest(".project-display");f(e),c.removeChild(n)}})),c.addEventListener("click",(t=>{t.target.classList.contains("project")&&(r.style.display="flex",a.style.display="none",n=s.myProjectArray[e],console.log(n),l.textContent=n.title,i.textContent=n.description,d.textContent=n.date,u.textContent=n.priority,document.querySelectorAll(".individual-task").forEach((e=>{y.removeChild(e)})),function(){for(let e=0;e<n.tasks.length;e++){k();const t=document.querySelectorAll(".task-input"),o=document.querySelectorAll(".task-checkbox");t[e].value=n.tasks[e].taskName,o[e].checked=n.tasks[e].isCompleted}}())})),y.addEventListener("click",(e=>{if(e.target.classList.contains("task-checkbox")||e.target.classList.contains("task-input")||e.target.classList.contains("deleteSVG")){let n=e.target.closest(".individual-task");t=Array.from(n.parentNode.children).indexOf(n)}})),p.addEventListener("click",(()=>{let n,o;k(),y.addEventListener("change",(c=>{if(c.target.classList.contains("task-checkbox")){o=c.target.checked;const r=g(n,o);s.myProjectArray[e].tasks[t]=r}else if(c.target.classList.contains("task-input")){n=c.target.value;const r=g(n,o);s.myProjectArray[e].tasks[t]=r}}))})),y.addEventListener("click",(n=>{if(n.target.classList.contains("deleteSVG")){const o=n.target.closest(".individual-task");s.myProjectArray[e].tasks.splice(t,1),y.removeChild(o)}})),m.addEventListener("click",(()=>{const e=document.querySelector(".due-title");let t=[];r.style.display="none",a.style.display="flex",e.textContent="Due Today";for(let e=0;e<s.myProjectArray.length;e++){let n=new Date(`${s.myProjectArray[e].date}CDT`);o(new Date(n))&&(console.log("test"),t.push(s.myProjectArray[e]))}})),{createProjectDiv:function(){const e=document.createElement("button"),t=document.createElement("button"),n=document.createElement("div"),o=document.createElement("div");n.classList.add("project-display"),c.appendChild(n),o.classList.add("project"),o.textContent=s.myProjectArray[s.myProjectArray.length-1].title,n.appendChild(o),e.classList.add("delete-project-button"),e.innerHTML='<svg class="deleteSVG" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="deleteSVG" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',n.appendChild(e),t.classList.add("edit-project-button"),t.innerHTML='<svg class="editSVG" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="editSVG" d="M5,3C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19H5V5H12V3H5M17.78,4C17.61,4 17.43,4.07 17.3,4.2L16.08,5.41L18.58,7.91L19.8,6.7C20.06,6.44 20.06,6 19.8,5.75L18.25,4.2C18.12,4.07 17.95,4 17.78,4M15.37,6.12L8,13.5V16H10.5L17.87,8.62L15.37,6.12Z" /></svg>',n.appendChild(t)},deleteProject:f}}(),r=function(){const e=document.querySelector(".add-project"),t=document.querySelector(".add-project-form"),n=document.querySelector("#title"),o=document.querySelector("#description"),r=document.querySelector("#date"),s=document.querySelectorAll(".project-priority-button"),a=document.querySelector(".add"),l=document.querySelector(".cancel");let i=[],d="Low";return{addProject:e,displayForm:function(){e.style.display="flex",a.addEventListener("click",(s=>{if(""!=n.value){s.preventDefault();const a=function(e,t,n,o){return{title:e,description:t,date:n,priority:o,tasks:[]}}(n.value,o.value,r.value,d);i.push(a),c.createProjectDiv(),console.log(i),e.style.display="none",d="Low",t.reset()}})),l.addEventListener("click",(n=>{n.preventDefault(),e.style.display="none",t.reset()})),e.addEventListener("click",(t=>{t.target==e&&(e.style.display="none")})),s.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),d=e.textContent,console.log(d)}))}))},myProjectArray:i}}(),s=r,a=document.querySelector(".project-button");document.querySelector(".projects-lists"),a.addEventListener("click",s.displayForm)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFBLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vdG9EYXRlL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZkRheS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzVG9kYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1NhbWVEYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL0RPTS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvYWRkUHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWlyZWRBcmdzKHJlcXVpcmVkLCBhcmdzKSB7XG4gIGlmIChhcmdzLmxlbmd0aCA8IHJlcXVpcmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihyZXF1aXJlZCArICcgYXJndW1lbnQnICsgKHJlcXVpcmVkID4gMSA/ICdzJyA6ICcnKSArICcgcmVxdWlyZWQsIGJ1dCBvbmx5ICcgKyBhcmdzLmxlbmd0aCArICcgcHJlc2VudCcpO1xuICB9XG59IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSB0b0RhdGVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGFuIGluc3RhbmNlIG9mIERhdGUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0cyBjbG9uZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBudW1iZXIsIGl0IGlzIHRyZWF0ZWQgYXMgYSB0aW1lc3RhbXAuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIG5vbmUgb2YgdGhlIGFib3ZlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBJbnZhbGlkIERhdGUuXG4gKlxuICogKipOb3RlKio6ICphbGwqIERhdGUgYXJndW1lbnRzIHBhc3NlZCB0byBhbnkgKmRhdGUtZm5zKiBmdW5jdGlvbiBpcyBwcm9jZXNzZWQgYnkgYHRvRGF0ZWAuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gYXJndW1lbnQgLSB0aGUgdmFsdWUgdG8gY29udmVydFxuICogQHJldHVybnMge0RhdGV9IHRoZSBwYXJzZWQgZGF0ZSBpbiB0aGUgbG9jYWwgdGltZSB6b25lXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ2xvbmUgdGhlIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUobmV3IERhdGUoMjAxNCwgMSwgMTEsIDExLCAzMCwgMzApKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCB0aGUgdGltZXN0YW1wIHRvIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUoMTM5MjA5ODQzMDAwMClcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9EYXRlKGFyZ3VtZW50KSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTsgLy8gQ2xvbmUgdGhlIGRhdGVcblxuICBpZiAoYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8IF90eXBlb2YoYXJndW1lbnQpID09PSAnb2JqZWN0JyAmJiBhcmdTdHIgPT09ICdbb2JqZWN0IERhdGVdJykge1xuICAgIC8vIFByZXZlbnQgdGhlIGRhdGUgdG8gbG9zZSB0aGUgbWlsbGlzZWNvbmRzIHdoZW4gcGFzc2VkIHRvIG5ldyBEYXRlKCkgaW4gSUUxMFxuICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudC5nZXRUaW1lKCkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudCA9PT0gJ251bWJlcicgfHwgYXJnU3RyID09PSAnW29iamVjdCBOdW1iZXJdJykge1xuICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCh0eXBlb2YgYXJndW1lbnQgPT09ICdzdHJpbmcnIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgU3RyaW5nXScpICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybihcIlN0YXJ0aW5nIHdpdGggdjIuMC4wLWJldGEuMSBkYXRlLWZucyBkb2Vzbid0IGFjY2VwdCBzdHJpbmdzIGFzIGRhdGUgYXJndW1lbnRzLiBQbGVhc2UgdXNlIGBwYXJzZUlTT2AgdG8gcGFyc2Ugc3RyaW5ncy4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjc3RyaW5nLWFyZ3VtZW50c1wiKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblxuICAgICAgY29uc29sZS53YXJuKG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgfVxufSIsImltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIG9yaWdpbmFsIGRhdGVcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgc3RhcnQgb2YgYSBkYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSBkYXkgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMDIgMjAxNCAwMDowMDowMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0T2ZEYXkoZGlydHlEYXRlKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZSA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgaXNTYW1lRGF5IGZyb20gXCIuLi9pc1NhbWVEYXkvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGlzVG9kYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGdpdmVuIGRhdGUgdG9kYXk/XG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSXMgdGhlIGdpdmVuIGRhdGUgdG9kYXk/XG4gKlxuICogPiDimqDvuI8gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBwcmVzZW50IGluIHRoZSBGUCBzdWJtb2R1bGUgYXNcbiAqID4gaXQgdXNlcyBgRGF0ZS5ub3coKWAgaW50ZXJuYWxseSBoZW5jZSBpbXB1cmUgYW5kIGNhbid0IGJlIHNhZmVseSBjdXJyaWVkLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZGF0ZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlIGlzIHRvZGF5XG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgNiBPY3RvYmVyIDIwMTQsIGlzIDYgT2N0b2JlciAxNDowMDowMCB0b2RheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzVG9kYXkobmV3IERhdGUoMjAxNCwgOSwgNiwgMTQsIDApKVxuICogLy89PiB0cnVlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNUb2RheShkaXJ0eURhdGUpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBpc1NhbWVEYXkoZGlydHlEYXRlLCBEYXRlLm5vdygpKTtcbn0iLCJpbXBvcnQgc3RhcnRPZkRheSBmcm9tIFwiLi4vc3RhcnRPZkRheS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgaXNTYW1lRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aCk/XG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aClcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyIDA2OjAwOjAwIGFuZCA0IFNlcHRlbWJlciAxODowMDowMCBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCwgNiwgMCksIG5ldyBEYXRlKDIwMTQsIDgsIDQsIDE4LCAwKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIgYW5kIDQgT2N0b2JlciBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCksIG5ldyBEYXRlKDIwMTQsIDksIDQpKVxuICogLy89PiBmYWxzZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIsIDIwMTQgYW5kIDQgU2VwdGVtYmVyLCAyMDE1IGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0KSwgbmV3IERhdGUoMjAxNSwgOCwgNCkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTYW1lRGF5KGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZUxlZnRTdGFydE9mRGF5ID0gc3RhcnRPZkRheShkaXJ0eURhdGVMZWZ0KTtcbiAgdmFyIGRhdGVSaWdodFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZVJpZ2h0KTtcbiAgcmV0dXJuIGRhdGVMZWZ0U3RhcnRPZkRheS5nZXRUaW1lKCkgPT09IGRhdGVSaWdodFN0YXJ0T2ZEYXkuZ2V0VGltZSgpO1xufSIsImltcG9ydCB7IGlzVGhpc1dlZWssIGlzVG9kYXkgfSBmcm9tICdkYXRlLWZucyc7XG5pbXBvcnQgYWRkUHJvamVjdExpc3QgZnJvbSAnLi9hZGRQcm9qZWN0J1xuXG5jb25zdCBkb20gPSAoZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIGxldCBpbmRleFxuICAgIGxldCB0YXNrSW5kZXhcbiAgICBsZXQgb3BlblByb2plY3RcbiAgICBjb25zdCBwcm9qZWN0c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMtbGlzdHMnKVxuICAgIGNvbnN0IG1haW5Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tY29udGVudCcpXG4gICAgY29uc3QgZHVlQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kdWUtY29udGVudCcpXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtdGl0bGUnKVxuICAgIGNvbnN0IHByb2plY3REZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWRlc2NyaXB0aW9uJylcbiAgICBjb25zdCBwcm9qZWN0RHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtZHVlJylcbiAgICBjb25zdCBwcm9qZWN0UHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJpb3JpdHknKVxuICAgIGNvbnN0IHRhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay1idXR0b24nKVxuICAgIGNvbnN0IGFsbFRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsbC10YXNrcycpXG4gICAgY29uc3QgZHVlVG9kYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHVlLXRvZGF5JylcbiAgICBjb25zdCBkdWVUaGlzV2VlayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kdWUtdGhpcy13ZWVrJylcblxuICAgIGNvbnN0IGNyZWF0ZVByb2plY3REaXYgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgICAgIGNvbnN0IGVkaXRQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgY29uc3QgcHJvamVjdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5cbiAgICAgICAgcHJvamVjdERpdi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWRpc3BsYXknKVxuICAgICAgICBwcm9qZWN0c0xpc3QuYXBwZW5kQ2hpbGQocHJvamVjdERpdilcblxuICAgICAgICBwcm9qZWN0VGl0bGVEaXYuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpXG4gICAgICAgIHByb2plY3RUaXRsZURpdi50ZXh0Q29udGVudCA9IGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5WyhhZGRQcm9qZWN0TGlzdC5teVByb2plY3RBcnJheSkubGVuZ3RoIC0gMV1bJ3RpdGxlJ11cbiAgICAgICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGVEaXYpXG5cbiAgICAgICAgZGVsZXRlUHJvamVjdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkZWxldGUtcHJvamVjdC1idXR0b24nKVxuICAgICAgICBkZWxldGVQcm9qZWN0QnV0dG9uLmlubmVySFRNTCA9ICc8c3ZnIGNsYXNzPVwiZGVsZXRlU1ZHXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBjbGFzcz1cImRlbGV0ZVNWR1wiIGQ9XCJNMTksNEgxNS41TDE0LjUsM0g5LjVMOC41LDRINVY2SDE5TTYsMTlBMiwyIDAgMCwwIDgsMjFIMTZBMiwyIDAgMCwwIDE4LDE5VjdINlYxOVpcIiAvPjwvc3ZnPidcbiAgICAgICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChkZWxldGVQcm9qZWN0QnV0dG9uKVxuXG4gICAgICAgIGVkaXRQcm9qZWN0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VkaXQtcHJvamVjdC1idXR0b24nKVxuICAgICAgICBlZGl0UHJvamVjdEJ1dHRvbi5pbm5lckhUTUwgPSAnPHN2ZyBjbGFzcz1cImVkaXRTVkdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGNsYXNzPVwiZWRpdFNWR1wiIGQ9XCJNNSwzQzMuODksMyAzLDMuODkgMyw1VjE5QTIsMiAwIDAsMCA1LDIxSDE5QTIsMiAwIDAsMCAyMSwxOVYxMkgxOVYxOUg1VjVIMTJWM0g1TTE3Ljc4LDRDMTcuNjEsNCAxNy40Myw0LjA3IDE3LjMsNC4yTDE2LjA4LDUuNDFMMTguNTgsNy45MUwxOS44LDYuN0MyMC4wNiw2LjQ0IDIwLjA2LDYgMTkuOCw1Ljc1TDE4LjI1LDQuMkMxOC4xMiw0LjA3IDE3Ljk1LDQgMTcuNzgsNE0xNS4zNyw2LjEyTDgsMTMuNVYxNkgxMC41TDE3Ljg3LDguNjJMMTUuMzcsNi4xMlpcIiAvPjwvc3ZnPidcbiAgICAgICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChlZGl0UHJvamVjdEJ1dHRvbilcbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVQcm9qZWN0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cbiAgICAgICAgaWYgKGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2luZGV4XSA9PT0gb3BlblByb2plY3QpIHtcbiAgICAgICAgICAgIG1haW5Db250ZW50LnN0eWxlLmRpc3BsYXk9J25vbmUnXG4gICAgICAgIH1cblxuICAgICAgICBhZGRQcm9qZWN0TGlzdC5teVByb2plY3RBcnJheS5zcGxpY2UoaW5kZXggLCAxKVxuICAgIH1cblxuICAgIGNvbnN0IGdlbmVyYXRlTmV3VGFzayA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBjb25zdCBuZXdUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgbmV3VGFzay5jbGFzc0xpc3QuYWRkKCdpbmRpdmlkdWFsLXRhc2snKVxuICAgICAgICBhbGxUYXNrcy5hcHBlbmRDaGlsZChuZXdUYXNrKVxuXG4gICAgICAgIGNvbnN0IG5ld0NoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgbmV3Q2hlY2tib3guY2xhc3NMaXN0LmFkZCgndGFzay1jaGVja2JveC1kaXYnKVxuICAgICAgICBuZXdUYXNrLmFwcGVuZENoaWxkKG5ld0NoZWNrYm94KVxuICAgICAgICBuZXdDaGVja2JveC5pbm5lckhUTUwgPSAnPGxhYmVsIGZvcj1cInRhc2sxLWNoZWNrYm94XCI+PC9sYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3MgPSBcInRhc2stY2hlY2tib3hcIiBpZD1cInRhc2sxLWNoZWNrYm94XCIgbmFtZT1cImNoZWNrYm94XCI+J1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbmV3SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBuZXdJbnB1dC5jbGFzc0xpc3QuYWRkKCd0YXNrLWlucHV0LWRpdicpXG4gICAgICAgIG5ld1Rhc2suYXBwZW5kQ2hpbGQobmV3SW5wdXQpXG4gICAgICAgIG5ld0lucHV0LmlubmVySFRNTCA9ICc8bGFiZWwgZm9yPVwidGFzazEtaW5wdXRcIj48L2xhYmVsPjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwidGFzay1pbnB1dFwiIGlkPVwidGFzazEtaW5wdXRcIiBuYW1lPVwidGFza1wiIHJlcXVpcmVkPidcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRhc2tEZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICB0YXNrRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Rhc2stZGVsZXRlLWJ1dHRvbicpXG4gICAgICAgIG5ld1Rhc2suYXBwZW5kQ2hpbGQodGFza0RlbGV0ZUJ1dHRvbilcbiAgICAgICAgdGFza0RlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnPHN2ZyBjbGFzcz1cImRlbGV0ZVNWR1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggY2xhc3M9XCJkZWxldGVTVkdcIiBkPVwiTTE5LDRIMTUuNUwxNC41LDNIOS41TDguNSw0SDVWNkgxOU02LDE5QTIsMiAwIDAsMCA4LDIxSDE2QTIsMiAwIDAsMCAxOCwxOVY3SDZWMTlaXCIgLz48L3N2Zz4nXG4gICAgICAgICBcbiAgICB9XG5cbiAgICBjb25zdCBnZW5lcmF0ZVRhc2tPYmplY3QgPSBmdW5jdGlvbiAodGFza05hbWUsIGlzQ29tcGxldGVkKSB7XG5cbiAgICAgICAgaWYgKGlzQ29tcGxldGVkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgXG4gICAgICAgIHJldHVybiB7dGFza05hbWUsIGlzQ29tcGxldGVkfVxuICAgIH1cblxuICAgIGNvbnN0IGdlbmVyYXRlVGFza0xpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3BlblByb2plY3RbJ3Rhc2tzJ10ubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgZ2VuZXJhdGVOZXdUYXNrKClcblxuICAgICAgICAgICAgY29uc3QgdGFza0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2staW5wdXQnKVxuICAgICAgICAgICAgY29uc3QgY2hlY2tCb3ggID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2stY2hlY2tib3gnKVxuICAgICAgICAgICAgdGFza0lucHV0W2ldLnZhbHVlID0gb3BlblByb2plY3RbJ3Rhc2tzJ11baV1bJ3Rhc2tOYW1lJ11cbiAgICAgICAgICAgIGNoZWNrQm94W2ldLmNoZWNrZWQgPSBvcGVuUHJvamVjdFsndGFza3MnXVtpXVsnaXNDb21wbGV0ZWQnXVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjbGVhclRhc2tMaXN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGNvbnN0IGluZGl2aWR1YWxUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmluZGl2aWR1YWwtdGFzaycpXG4gICAgICAgXG4gICAgICAgIGluZGl2aWR1YWxUYXNrLmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgICAgICAgIGFsbFRhc2tzLnJlbW92ZUNoaWxkKHRhc2spXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJvamVjdHNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKHByb2plY3QpID0+IHtcbiAgICAgICAgaWYgKChwcm9qZWN0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2plY3QnKSkgfHxcbiAgICAgICAgICAgIChwcm9qZWN0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbGV0ZVNWRycpKSB8fFxuICAgICAgICAgICAgKHByb2plY3QudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWRpdFNWRycpKSkge1xuICAgICAgICBcbiAgICAgICAgICAgIGxldCB0YXJnZXRQcm9qZWN0ID0gcHJvamVjdC50YXJnZXQuY2xvc2VzdCgnLnByb2plY3QtZGlzcGxheScpXG4gICAgICAgICAgICBpbmRleCA9IEFycmF5LmZyb20odGFyZ2V0UHJvamVjdC5wYXJlbnROb2RlLmNoaWxkcmVuKS5pbmRleE9mKHRhcmdldFByb2plY3QpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gRXZlbnQgaGFuZGxlciB3aGVuIGEgcHJvamVjdCBpcyBkZWxldGVkXG4gICAgcHJvamVjdHNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKHByb2plY3QpID0+IHtcbiAgICAgICAgaWYgKHByb2plY3QudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGVsZXRlU1ZHJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3REaXYgPSBwcm9qZWN0LnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1kaXNwbGF5JylcbiAgICAgICAgICAgIGRlbGV0ZVByb2plY3QoaW5kZXgpXG4gICAgICAgICAgICBwcm9qZWN0c0xpc3QucmVtb3ZlQ2hpbGQocHJvamVjdERpdilcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSlcblxuICAgIC8vIEV2ZW50IGhhbmRsZXIgd2hlbiBhIHByb2plY3QgaXMgY2xpY2tlZFxuICAgIHByb2plY3RzTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChwcm9qZWN0KSA9PiB7XG4gICAgICAgIGlmIChwcm9qZWN0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2plY3QnKSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBtYWluQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG4gICAgICAgICAgICBkdWVDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgICAgIG9wZW5Qcm9qZWN0ID0gYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXlbaW5kZXhdXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG9wZW5Qcm9qZWN0KVxuXG4gICAgICAgICAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBvcGVuUHJvamVjdFsndGl0bGUnXVxuICAgICAgICAgICAgcHJvamVjdERlc2NyaXB0aW9uLnRleHRDb250ZW50ICA9IG9wZW5Qcm9qZWN0WydkZXNjcmlwdGlvbiddXG4gICAgICAgICAgICBwcm9qZWN0RHVlLnRleHRDb250ZW50ICA9IG9wZW5Qcm9qZWN0WydkYXRlJ11cbiAgICAgICAgICAgIHByb2plY3RQcmlvcml0eS50ZXh0Q29udGVudCA9IG9wZW5Qcm9qZWN0Wydwcmlvcml0eSddXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNsZWFyVGFza0xpc3QoKVxuICAgICAgICAgICAgZ2VuZXJhdGVUYXNrTGlzdCgpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgYWxsVGFza3MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLWNoZWNrYm94JykpIHx8XG4gICAgICAgICAgICAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFzay1pbnB1dCcpKSB8fFxuICAgICAgICAgICAgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbGV0ZVNWRycpKSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgdGFyZ2V0VGFzayA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuaW5kaXZpZHVhbC10YXNrJylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGFza0luZGV4ID0gQXJyYXkuZnJvbSh0YXJnZXRUYXNrLnBhcmVudE5vZGUuY2hpbGRyZW4pLmluZGV4T2YodGFyZ2V0VGFzaylcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBFdmVudCBoYW5kbGVyIGZvciBuZXcgdGFzayBjcmVhdGlvblxuICAgIHRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgXG4gICAgICAgIGdlbmVyYXRlTmV3VGFzaygpXG4gICAgXG4gICAgICAgIGxldCB0YXNrTmFtZVxuICAgICAgICBsZXQgaXNDb21wbGV0ZWQgXG4gICAgICAgXG4gICAgICAgIGFsbFRhc2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFzay1jaGVja2JveCcpKSB7XG5cbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkXG4gICAgICAgICAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGdlbmVyYXRlVGFza09iamVjdCh0YXNrTmFtZSwgaXNDb21wbGV0ZWQpXG4gICAgICAgICAgICAgICAgYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXlbaW5kZXhdWyd0YXNrcyddW3Rhc2tJbmRleF0gPSB0YXNrT2JqZWN0XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFzay1pbnB1dCcpKSB7XG5cbiAgICAgICAgICAgICAgICB0YXNrTmFtZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBnZW5lcmF0ZVRhc2tPYmplY3QodGFza05hbWUsIGlzQ29tcGxldGVkKVxuICAgICAgICAgICAgICAgIGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2luZGV4XVsndGFza3MnXVt0YXNrSW5kZXhdID0gdGFza09iamVjdFxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIEV2ZW50IGhhbmRsZXIgZm9yIGRlbGV0aW5nIGEgdGFza1xuICAgIGFsbFRhc2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZWxldGVTVkcnKSkge1xuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGFzayA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuaW5kaXZpZHVhbC10YXNrJylcbiAgICAgICAgICAgIGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2luZGV4XVsndGFza3MnXS5zcGxpY2UodGFza0luZGV4LDEpXG4gICAgICAgICAgICBhbGxUYXNrcy5yZW1vdmVDaGlsZChjdXJyZW50VGFzaylcbiAgICAgICAgfVxuICAgIH0pIFxuXG4gICAgLy8gRXZlbnQgaGFuZGxlciBmb3Igc29ydGluZyBieSBkdWUgZGF0ZVxuICAgIGR1ZVRvZGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmR1ZS10aXRsZScpXG4gICAgICAgIGxldCBkdWVUb2RheVByb2plY3RzID0gW11cblxuICAgICAgICBtYWluQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgIGR1ZUNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xuXG4gICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ0R1ZSBUb2RheSdcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5Lmxlbmd0aDsgaSsrKXtcblxuICAgICAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShgJHthZGRQcm9qZWN0TGlzdC5teVByb2plY3RBcnJheVtpXVsnZGF0ZSddfWAgKyBgQ0RUYClcblxuICAgICAgICAgICAgaWYgKGlzVG9kYXkobmV3IERhdGUoZGF0ZSkpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rlc3QnKVxuICAgICAgICAgICAgICAgIGR1ZVRvZGF5UHJvamVjdHMucHVzaChhZGRQcm9qZWN0TGlzdC5teVByb2plY3RBcnJheVtpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICAvKlxuICAgIGVkaXRQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBhZGRQcm9qZWN0TGlzdC5hZGRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcblxuICAgIH0pKi9cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZVByb2plY3REaXYsXG4gICAgICAgIGRlbGV0ZVByb2plY3RcbiAgICB9XG5cbn0pKCk7XG4gICAgXG5leHBvcnQgZGVmYXVsdCBkb20iLCJpbXBvcnQgZG9tIGZyb20gJy4vRE9NJ1xuXG5jb25zdCBhZGRQcm9qZWN0TGlzdCA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0JylcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0LWZvcm0nKVxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RpdGxlJylcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZXNjcmlwdGlvbicpXG4gICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXRlJylcbiAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0LXByaW9yaXR5LWJ1dHRvbicpXG4gICAgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZCcpXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbmNlbCcpXG5cbiAgICBsZXQgbXlQcm9qZWN0QXJyYXkgPSBbXVxuICAgIGxldCBwcmlvcml0eVZhbHVlID0gJ0xvdydcbiAgIFxuICAgIGNvbnN0IGRpc3BsYXlGb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBcbiAgICAgICAgYWRkUHJvamVjdC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG5cbiAgICAgICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGl0bGUudmFsdWUgIT0gJycpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UHJvamVjdCA9IGNyZWF0ZVByb2plY3QodGl0bGUudmFsdWUsIGRlc2NyaXB0aW9uLnZhbHVlLCBkYXRlLnZhbHVlLCBwcmlvcml0eVZhbHVlKVxuICAgICAgICAgICAgICAgIG15UHJvamVjdEFycmF5LnB1c2gobmV3UHJvamVjdClcbiAgICAgICAgICAgICAgICBkb20uY3JlYXRlUHJvamVjdERpdigpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0QXJyYXkpXG4gICAgICAgICAgICAgICAgYWRkUHJvamVjdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9ICdMb3cnXG4gICAgICAgICAgICAgICAgZm9ybS5yZXNldCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYWRkUHJvamVjdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgICAgICBmb3JtLnJlc2V0KClcbiAgICAgICAgfSlcblxuICAgICAgICBhZGRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IGFkZFByb2plY3QpIHtcbiAgICAgICAgICAgICAgICBhZGRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBwcmlvcml0eS5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9IGJ1dHRvbi50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByaW9yaXR5VmFsdWUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZVByb2plY3QgPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSkge1xuICAgICAgICBsZXQgdGFza3MgPSBbXVxuICAgICAgICByZXR1cm4ge3RpdGxlLGRlc2NyaXB0aW9uLGRhdGUscHJpb3JpdHksdGFza3N9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUHJvamVjdCxcbiAgICAgICAgZGlzcGxheUZvcm0sXG4gICAgICAgIG15UHJvamVjdEFycmF5XG4gICAgfVxuXG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBhZGRQcm9qZWN0TGlzdFxuXG4iLCJpbXBvcnQgYWRkUHJvamVjdExpc3QgZnJvbSAnLi9hZGRQcm9qZWN0J1xuaW1wb3J0IGRvbSBmcm9tICcuL0RPTSdcblxuY29uc3QgbmV3UHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWJ1dHRvbicpXG5jb25zdCBwcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RzLWxpc3RzJylcblxuXG5cbm5ld1Byb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRQcm9qZWN0TGlzdC5kaXNwbGF5Rm9ybSlcblxuZG9tXG4iXSwibmFtZXMiOlsicmVxdWlyZWRBcmdzIiwicmVxdWlyZWQiLCJhcmdzIiwibGVuZ3RoIiwiVHlwZUVycm9yIiwiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJzdGFydE9mRGF5IiwiZGlydHlEYXRlIiwiYXJndW1lbnRzIiwiZGF0ZSIsImFyZ3VtZW50IiwiYXJnU3RyIiwiT2JqZWN0IiwidG9TdHJpbmciLCJjYWxsIiwiRGF0ZSIsImdldFRpbWUiLCJjb25zb2xlIiwid2FybiIsIkVycm9yIiwic3RhY2siLCJOYU4iLCJ0b0RhdGUiLCJzZXRIb3VycyIsImlzVG9kYXkiLCJkaXJ0eURhdGVMZWZ0IiwiZGlydHlEYXRlUmlnaHQiLCJkYXRlTGVmdFN0YXJ0T2ZEYXkiLCJkYXRlUmlnaHRTdGFydE9mRGF5IiwiaXNTYW1lRGF5Iiwibm93IiwiaW5kZXgiLCJ0YXNrSW5kZXgiLCJvcGVuUHJvamVjdCIsInByb2plY3RzTGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1haW5Db250ZW50IiwiZHVlQ29udGVudCIsInByb2plY3RUaXRsZSIsInByb2plY3REZXNjcmlwdGlvbiIsInByb2plY3REdWUiLCJwcm9qZWN0UHJpb3JpdHkiLCJ0YXNrQnV0dG9uIiwiYWxsVGFza3MiLCJkdWVUb2RheSIsImRlbGV0ZVByb2plY3QiLCJhZGRQcm9qZWN0Iiwic3R5bGUiLCJkaXNwbGF5IiwiZ2VuZXJhdGVOZXdUYXNrIiwibmV3VGFzayIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsIm5ld0NoZWNrYm94IiwiaW5uZXJIVE1MIiwibmV3SW5wdXQiLCJ0YXNrRGVsZXRlQnV0dG9uIiwiZ2VuZXJhdGVUYXNrT2JqZWN0IiwidGFza05hbWUiLCJpc0NvbXBsZXRlZCIsInVuZGVmaW5lZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9qZWN0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJ0YXJnZXRQcm9qZWN0IiwiY2xvc2VzdCIsIkFycmF5IiwiZnJvbSIsInBhcmVudE5vZGUiLCJjaGlsZHJlbiIsImluZGV4T2YiLCJwcm9qZWN0RGl2IiwicmVtb3ZlQ2hpbGQiLCJsb2ciLCJ0ZXh0Q29udGVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwidGFzayIsImkiLCJ0YXNrSW5wdXQiLCJjaGVja0JveCIsInZhbHVlIiwiY2hlY2tlZCIsImdlbmVyYXRlVGFza0xpc3QiLCJldmVudCIsInRhcmdldFRhc2siLCJ0YXNrT2JqZWN0IiwiY3VycmVudFRhc2siLCJzcGxpY2UiLCJ0aXRsZSIsImR1ZVRvZGF5UHJvamVjdHMiLCJwdXNoIiwiY3JlYXRlUHJvamVjdERpdiIsImRlbGV0ZVByb2plY3RCdXR0b24iLCJlZGl0UHJvamVjdEJ1dHRvbiIsInByb2plY3RUaXRsZURpdiIsImFkZFByb2plY3RMaXN0IiwiZm9ybSIsImRlc2NyaXB0aW9uIiwicHJpb3JpdHkiLCJhZGRCdXR0b24iLCJjYW5jZWxCdXR0b24iLCJteVByb2plY3RBcnJheSIsInByaW9yaXR5VmFsdWUiLCJkaXNwbGF5Rm9ybSIsInByZXZlbnREZWZhdWx0IiwibmV3UHJvamVjdCIsInRhc2tzIiwiY3JlYXRlUHJvamVjdCIsInJlc2V0IiwiYnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==