(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(n){e(1,arguments);var r=Object.prototype.toString.call(n);return n instanceof Date||"object"===t(n)&&"[object Date]"===r?new Date(n.getTime()):"number"==typeof n||"[object Number]"===r?new Date(n):("string"!=typeof n&&"[object String]"!==r||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function r(t){e(1,arguments);var r=n(t);return r.setHours(0,0,0,0),r}function o(t){return e(1,arguments),function(t,n){e(2,arguments);var o=r(t),c=r(n);return o.getTime()===c.getTime()}(t,Date.now())}var c={};function i(){return c}function s(t,r){var o,c,s,l,a,d,u,y;e(1,arguments);var p=i(),m=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(o=null!==(c=null!==(s=null!==(l=null==r?void 0:r.weekStartsOn)&&void 0!==l?l:null==r||null===(a=r.locale)||void 0===a||null===(d=a.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==s?s:p.weekStartsOn)&&void 0!==c?c:null===(u=p.locale)||void 0===u||null===(y=u.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==o?o:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=n(t),f=v.getDay(),g=(f<m?7:0)+f-m;return v.setDate(v.getDate()-g),v.setHours(0,0,0,0),v}function l(t,n){return e(1,arguments),function(t,n,r){e(2,arguments);var o=s(t,r),c=s(n,r);return o.getTime()===c.getTime()}(t,Date.now(),n)}const a=function(){if(localStorage.getItem("project")){let e=JSON.parse(localStorage.getItem("project"));for(let t=0;t<e.length;t++)p.myProjectArray.push(e[t]),console.log(e[t]);u.createProjectDiv()}},d=function(){let e=p.myProjectArray;localStorage.setItem("project",JSON.stringify(e)),console.log(JSON.parse(localStorage.getItem("project")))},u=function(){let e,t,n,r=0,c=0;const i=document.querySelector(".projects-lists"),s=document.querySelector(".main-content"),a=document.querySelector(".due-content"),u=document.querySelector(".project-title"),y=document.querySelector(".project-description"),m=document.querySelector(".project-due"),v=document.querySelector(".priority"),f=document.querySelector(".task-button"),g=document.querySelector(".all-tasks"),h=document.querySelector(".due-today"),j=document.querySelector(".due-this-week"),k=document.querySelector(".due-title"),S=document.querySelector(".due-projects-lists"),L=document.querySelector(".priority-tab"),C=function(t){p.myProjectArray[t]===e&&(s.style.display="none"),p.myProjectArray.splice(t,1)},w=function(){const e=document.createElement("div");e.classList.add("individual-task"),g.appendChild(e);const t=document.createElement("div");t.classList.add("task-checkbox-div"),e.appendChild(t),t.innerHTML='<label for="task1-checkbox"></label><input type="checkbox" class = "task-checkbox" id="task1-checkbox" name="checkbox">';const n=document.createElement("div");n.classList.add("task-input-div"),e.appendChild(n),n.innerHTML='<label for="task1-input"></label><input type="text" class="task-input" id="task1-input" name="task" required>';const r=document.createElement("div");r.classList.add("task-delete-button"),e.appendChild(r),r.innerHTML='<svg class="deleteSVG" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="deleteSVG" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>'},b=function(e,t){return null==t&&(t=!1),{taskName:e,isCompleted:t}},x=function(e){for(s.style.display="none",a.style.display="flex";S.hasChildNodes();)S.removeChild(S.firstChild);for(let t=0;t<p.myProjectArray.length;t++){let n=new Date(`${p.myProjectArray[t].date}CDT`);if("isToday"==e){if(k.textContent="Due Today",o(new Date(n))){const e=document.createElement("div");e.classList.add("due-project"),S.appendChild(e),e.textContent=p.myProjectArray[t].title}}else if("isThisWeek"==e&&(k.textContent="Due This Week",l(new Date(n)))){const e=document.createElement("div");e.classList.add("due-project"),S.appendChild(e),e.textContent=p.myProjectArray[t].title}}},E=function(e){for(s.style.display="none",a.style.display="flex";S.hasChildNodes();)S.removeChild(S.firstChild);if("low"==e){k.textContent="Low Priority Projects";for(let e=0;e<p.myProjectArray.length;e++)if("Low"==p.myProjectArray[e].priority){const t=document.createElement("div");t.classList.add("due-project"),S.appendChild(t),t.textContent=p.myProjectArray[e].title}}else if("med"==e){k.textContent="Medium Priority Projects";for(let e=0;e<p.myProjectArray.length;e++)if("Medium"==p.myProjectArray[e].priority){const t=document.createElement("div");t.classList.add("due-project"),S.appendChild(t),t.textContent=p.myProjectArray[e].title}}else if("high"==e){k.textContent="High Priority Projects";for(let e=0;e<p.myProjectArray.length;e++)if("High"==p.myProjectArray[e].priority){const t=document.createElement("div");t.classList.add("due-project"),S.appendChild(t),t.textContent=p.myProjectArray[e].title}}};return i.addEventListener("click",(n=>{(n.target.classList.contains("project")||n.target.classList.contains("deleteSVG")||n.target.classList.contains("editSVG"))&&(t=n.target.closest(".project-display"),r=Array.from(t.parentNode.children).indexOf(t),e=p.myProjectArray[r])})),i.addEventListener("click",(e=>{if(e.target.classList.contains("deleteSVG")){const t=e.target.closest(".project-display");C(r),i.removeChild(t),d()}})),i.addEventListener("click",(e=>{e.target.classList.contains("editSVG")&&(p.displayEditForm(r),n=t.querySelector(".project"))})),i.addEventListener("click",(t=>{t.target.classList.contains("project")&&(s.style.display="flex",a.style.display="none",u.textContent=e.title,y.textContent=e.description,m.textContent=e.date,v.textContent=`(${e.priority}`,document.querySelectorAll(".individual-task").forEach((e=>{g.removeChild(e)})),function(){for(let t=0;t<e.tasks.length;t++){w();const n=document.querySelectorAll(".task-input"),r=document.querySelectorAll(".task-checkbox");n[t].value=e.tasks[t].taskName,r[t].checked=e.tasks[t].isCompleted}}())})),g.addEventListener("click",(e=>{if(e.target.classList.contains("task-checkbox")||e.target.classList.contains("task-input")||e.target.classList.contains("deleteSVG")){let t=e.target.closest(".individual-task");c=Array.from(t.parentNode.children).indexOf(t)}})),f.addEventListener("click",(()=>{let e,t;w(),g.addEventListener("change",(n=>{if(n.target.classList.contains("task-checkbox")){t=n.target.checked;const o=b(e,t);p.myProjectArray[r].tasks[c]=o,d()}else if(n.target.classList.contains("task-input")){e=n.target.value;const o=b(e,t);p.myProjectArray[r].tasks[c]=o,d()}}))})),g.addEventListener("click",(e=>{if(e.target.classList.contains("deleteSVG")){const t=e.target.closest(".individual-task");p.myProjectArray[r].tasks.splice(c,1),g.removeChild(t),d()}})),h.addEventListener("click",(()=>{x("isToday")})),j.addEventListener("click",(()=>{x("isThisWeek")})),L.addEventListener("click",(e=>{e.target.classList.contains("priority-low")?E("low"):e.target.classList.contains("priority-med")?E("med"):e.target.classList.contains("priority-high")&&E("high")})),{createProjectDiv:function(){document.querySelectorAll(".project-display").forEach((e=>{i.removeChild(e)}));for(let e=0;e<p.myProjectArray.length;e++){const t=document.createElement("button"),n=document.createElement("button"),r=document.createElement("div"),o=document.createElement("div");r.classList.add("project-display"),i.appendChild(r),o.classList.add("project"),o.textContent=p.myProjectArray[e].title,r.appendChild(o),t.classList.add("delete-project-button"),t.innerHTML='<svg class="deleteSVG" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="deleteSVG" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',r.appendChild(t),n.classList.add("edit-project-button"),n.innerHTML='<svg class="editSVG" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="editSVG" d="M5,3C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19H5V5H12V3H5M17.78,4C17.61,4 17.43,4.07 17.3,4.2L16.08,5.41L18.58,7.91L19.8,6.7C20.06,6.44 20.06,6 19.8,5.75L18.25,4.2C18.12,4.07 17.95,4 17.78,4M15.37,6.12L8,13.5V16H10.5L17.87,8.62L15.37,6.12Z" /></svg>',r.appendChild(n)}},editProjectDiv:function(){n.textContent=e.title},deleteProject:C,index:r}}(),y=function(){const e=document.querySelector(".add-project"),t=document.querySelector(".edit-project"),n=document.querySelector(".add-project-form"),r=document.querySelector("#title"),o=document.querySelector("#description"),c=document.querySelector("#date"),i=document.querySelectorAll(".project-priority-button"),s=document.querySelector(".add"),l=document.querySelector(".cancel"),a=document.querySelector("#edit-title"),y=document.querySelector("#edit-description"),p=document.querySelector("#edit-date"),m=document.querySelector(".edit"),v=document.querySelector(".edit-cancel");let f,g=[],h="Low";const j=function(e,t,n,r){return{title:e,description:t,date:n,priority:r,tasks:[]}};return m.addEventListener("click",(e=>{e.preventDefault(),f.title=a.value,f.description=y.value,f.date=p.value,t.style.display="none",d(),u.editProjectDiv(),n.reset()})),{addProject:e,addButton:s,displayForm:function(){n.reset(),e.style.display="flex",s.addEventListener("click",(t=>{if(""!=r.value){t.preventDefault();const i=j(r.value,o.value,c.value,h);g.push(i),d(),u.createProjectDiv(),console.log(g),e.style.display="none",h="Low",n.reset()}})),l.addEventListener("click",(t=>{t.preventDefault(),e.style.display="none",n.reset()})),e.addEventListener("click",(t=>{t.target==e&&(e.style.display="none")})),i.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),h=e.textContent,console.log(h)}))}))},title:r,description:o,date:c,priority:i,myProjectArray:g,createProject:j,displayEditForm:function(e){t.style.display="flex",console.log(e),console.log(u.index),f=g[e],a.value=f.title,y.value=f.description,p.value=f.date,v.addEventListener("click",(e=>{e.preventDefault(),t.style.display="none",n.reset()})),t.addEventListener("click",(e=>{e.target==t&&(t.style.display="none")}))}}}(),p=y;a(),console.log(p.myProjectArray),document.querySelector(".project-button").addEventListener("click",p.displayForm)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEIsaUJBQ05ILEVBQWdCUSxFQUFPdEQsWUFDdkJyRyxRQUFRdUQsSUFBSTRGLEVBQWEsR0FDNUIsR0FFVCxFQWdESVYsUUFDQUMsY0FDQW5JLE9BQ0FpRyxXQUNBMEMsaUJBQ0FFLGdCQUNBUSxnQkFwRG9CLFNBQVUvRixHQUU5QjBFLEVBQVl2RCxNQUFNQyxRQUFVLE9BQzVCakYsUUFBUXVELElBQUlNLEdBQ1o3RCxRQUFRdUQsSUFBSSxTQUNaRyxFQUFjd0YsRUFBZXJGLEdBRTdCZ0YsRUFBVXBCLE1BQVEvRCxFQUFtQixNQUNyQ29GLEVBQWdCckIsTUFBUS9ELEVBQXlCLFlBQ2pEcUYsRUFBU3RCLE1BQVEvRCxFQUFrQixLQUVuQ3VGLEVBQWlCeEMsaUJBQWlCLFNBQVVtQixJQUN4Q0EsRUFBTTBCLGlCQUNOZixFQUFZdkQsTUFBTUMsUUFBVSxPQUM1QnVELEVBQUtlLE9BQU0sSUFHZmhCLEVBQVk5QixpQkFBaUIsU0FBVW1CLElBQy9CQSxFQUFNakIsUUFBVTRCLElBQ2hCQSxFQUFZdkQsTUFBTUMsUUFBVSxPQUNoQyxHQUdSLEVBZ0NILENBcEhzQixHQXNIdkIsSUNySEEsSUFFQWpGLFFBQVF1RCxJQUFJRCxFQUFBLGdCQUVPVSxTQUFTQyxjQUFjLG1CQUUvQndDLGlCQUFpQixRQUFTbkQsRUFBQSxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3RvRGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3N0YXJ0T2ZEYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1RvZGF5L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vaXNTYW1lRGF5L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9kZWZhdWx0T3B0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3N0YXJ0T2ZXZWVrL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi90b0ludGVnZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc1RoaXNXZWVrL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vaXNTYW1lV2Vlay9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvRE9NLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9hZGRQcm9qZWN0LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoIDwgcmVxdWlyZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgJyBhcmd1bWVudCcgKyAocmVxdWlyZWQgPiAxID8gJ3MnIDogJycpICsgJyByZXF1aXJlZCwgYnV0IG9ubHkgJyArIGFyZ3MubGVuZ3RoICsgJyBwcmVzZW50Jyk7XG4gIH1cbn0iLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIHRvRGF0ZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgaXRzIGNsb25lLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciwgaXQgaXMgdHJlYXRlZCBhcyBhIHRpbWVzdGFtcC5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgbm9uZSBvZiB0aGUgYWJvdmUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIEludmFsaWQgRGF0ZS5cbiAqXG4gKiAqKk5vdGUqKjogKmFsbCogRGF0ZSBhcmd1bWVudHMgcGFzc2VkIHRvIGFueSAqZGF0ZS1mbnMqIGZ1bmN0aW9uIGlzIHByb2Nlc3NlZCBieSBgdG9EYXRlYC5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBhcmd1bWVudCAtIHRoZSB2YWx1ZSB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHBhcnNlZCBkYXRlIGluIHRoZSBsb2NhbCB0aW1lIHpvbmVcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDbG9uZSB0aGUgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IHRvRGF0ZShuZXcgRGF0ZSgyMDE0LCAxLCAxMSwgMTEsIDMwLCAzMCkpXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb252ZXJ0IHRoZSB0aW1lc3RhbXAgdG8gZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IHRvRGF0ZSgxMzkyMDk4NDMwMDAwKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0RhdGUoYXJndW1lbnQpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBhcmdTdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpOyAvLyBDbG9uZSB0aGUgZGF0ZVxuXG4gIGlmIChhcmd1bWVudCBpbnN0YW5jZW9mIERhdGUgfHwgX3R5cGVvZihhcmd1bWVudCkgPT09ICdvYmplY3QnICYmIGFyZ1N0ciA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnbnVtYmVyJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IE51bWJlcl0nKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgYXJnU3RyID09PSAnW29iamVjdCBTdHJpbmddJykgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNzdHJpbmctYXJndW1lbnRzXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXG4gICAgICBjb25zb2xlLndhcm4obmV3IEVycm9yKCkuc3RhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBzdGFydE9mRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiBhIGRheVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIGRheSBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZEYXkobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAwMiAyMDE0IDAwOjAwOjAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRPZkRheShkaXJ0eURhdGUpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBkYXRlO1xufSIsImltcG9ydCBpc1NhbWVEYXkgZnJvbSBcIi4uL2lzU2FtZURheS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgaXNUb2RheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSB0b2RheT9cbiAqIEBwdXJlIGZhbHNlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJcyB0aGUgZ2l2ZW4gZGF0ZSB0b2RheT9cbiAqXG4gKiA+IOKaoO+4jyBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgbm90IHByZXNlbnQgaW4gdGhlIEZQIHN1Ym1vZHVsZSBhc1xuICogPiBpdCB1c2VzIGBEYXRlLm5vdygpYCBpbnRlcm5hbGx5IGhlbmNlIGltcHVyZSBhbmQgY2FuJ3QgYmUgc2FmZWx5IGN1cnJpZWQuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBkYXRlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGUgaXMgdG9kYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyA2IE9jdG9iZXIgMjAxNCwgaXMgNiBPY3RvYmVyIDE0OjAwOjAwIHRvZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNUb2RheShuZXcgRGF0ZSgyMDE0LCA5LCA2LCAxNCwgMCkpXG4gKiAvLz0+IHRydWVcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1RvZGF5KGRpcnR5RGF0ZSkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGlzU2FtZURheShkaXJ0eURhdGUsIERhdGUubm93KCkpO1xufSIsImltcG9ydCBzdGFydE9mRGF5IGZyb20gXCIuLi9zdGFydE9mRGF5L2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBpc1NhbWVEYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aCk/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIGRheSAoYW5kIHllYXIgYW5kIG1vbnRoKT9cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBmaXJzdCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgc2Vjb25kIGRhdGUgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0aGUgZGF0ZXMgYXJlIGluIHRoZSBzYW1lIGRheSAoYW5kIHllYXIgYW5kIG1vbnRoKVxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIgMDY6MDA6MDAgYW5kIDQgU2VwdGVtYmVyIDE4OjAwOjAwIGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0LCA2LCAwKSwgbmV3IERhdGUoMjAxNCwgOCwgNCwgMTgsIDApKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSA0IFNlcHRlbWJlciBhbmQgNCBPY3RvYmVyIGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0KSwgbmV3IERhdGUoMjAxNCwgOSwgNCkpXG4gKiAvLz0+IGZhbHNlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSA0IFNlcHRlbWJlciwgMjAxNCBhbmQgNCBTZXB0ZW1iZXIsIDIwMTUgaW4gdGhlIHNhbWUgZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQpLCBuZXcgRGF0ZSgyMDE1LCA4LCA0KSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1NhbWVEYXkoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlTGVmdFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZkRheSA9IHN0YXJ0T2ZEYXkoZGlydHlEYXRlUmlnaHQpO1xuICByZXR1cm4gZGF0ZUxlZnRTdGFydE9mRGF5LmdldFRpbWUoKSA9PT0gZGF0ZVJpZ2h0U3RhcnRPZkRheS5nZXRUaW1lKCk7XG59IiwidmFyIGRlZmF1bHRPcHRpb25zID0ge307XG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdE9wdGlvbnMoKSB7XG4gIHJldHVybiBkZWZhdWx0T3B0aW9ucztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0T3B0aW9ucyhuZXdPcHRpb25zKSB7XG4gIGRlZmF1bHRPcHRpb25zID0gbmV3T3B0aW9ucztcbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gXCIuLi90b0RhdGUvaW5kZXguanNcIjtcbmltcG9ydCB0b0ludGVnZXIgZnJvbSBcIi4uL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi4vX2xpYi9kZWZhdWx0T3B0aW9ucy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBzdGFydE9mV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIG9yaWdpbmFsIGRhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHtMb2NhbGV9IFtvcHRpb25zLmxvY2FsZT1kZWZhdWx0TG9jYWxlXSAtIHRoZSBsb2NhbGUgb2JqZWN0LiBTZWUgW0xvY2FsZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9Mb2NhbGV9XG4gKiBAcGFyYW0gezB8MXwyfDN8NHw1fDZ9IFtvcHRpb25zLndlZWtTdGFydHNPbj0wXSAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrICgwIC0gU3VuZGF5KVxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiBhIHdlZWtcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMud2Vla1N0YXJ0c09uYCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gU3VuIEF1ZyAzMSAyMDE0IDAwOjAwOjAwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRoZSB3ZWVrIHN0YXJ0cyBvbiBNb25kYXksIHRoZSBzdGFydCBvZiB0aGUgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCksIHsgd2Vla1N0YXJ0c09uOiAxIH0pXG4gKiAvLz0+IE1vbiBTZXAgMDEgMjAxNCAwMDowMDowMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0T2ZXZWVrKGRpcnR5RGF0ZSwgb3B0aW9ucykge1xuICB2YXIgX3JlZiwgX3JlZjIsIF9yZWYzLCBfb3B0aW9ucyR3ZWVrU3RhcnRzT24sIF9vcHRpb25zJGxvY2FsZSwgX29wdGlvbnMkbG9jYWxlJG9wdGlvLCBfZGVmYXVsdE9wdGlvbnMkbG9jYWwsIF9kZWZhdWx0T3B0aW9ucyRsb2NhbDI7XG5cbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIHZhciB3ZWVrU3RhcnRzT24gPSB0b0ludGVnZXIoKF9yZWYgPSAoX3JlZjIgPSAoX3JlZjMgPSAoX29wdGlvbnMkd2Vla1N0YXJ0c09uID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX29wdGlvbnMkd2Vla1N0YXJ0c09uICE9PSB2b2lkIDAgPyBfb3B0aW9ucyR3ZWVrU3RhcnRzT24gOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfb3B0aW9ucyRsb2NhbGUgPSBvcHRpb25zLmxvY2FsZSkgPT09IG51bGwgfHwgX29wdGlvbnMkbG9jYWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29wdGlvbnMkbG9jYWxlJG9wdGlvID0gX29wdGlvbnMkbG9jYWxlLm9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zJGxvY2FsZSRvcHRpbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMkbG9jYWxlJG9wdGlvLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX3JlZjMgIT09IHZvaWQgMCA/IF9yZWYzIDogZGVmYXVsdE9wdGlvbnMud2Vla1N0YXJ0c09uKSAhPT0gbnVsbCAmJiBfcmVmMiAhPT0gdm9pZCAwID8gX3JlZjIgOiAoX2RlZmF1bHRPcHRpb25zJGxvY2FsID0gZGVmYXVsdE9wdGlvbnMubG9jYWxlKSA9PT0gbnVsbCB8fCBfZGVmYXVsdE9wdGlvbnMkbG9jYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZGVmYXVsdE9wdGlvbnMkbG9jYWwyID0gX2RlZmF1bHRPcHRpb25zJGxvY2FsLm9wdGlvbnMpID09PSBudWxsIHx8IF9kZWZhdWx0T3B0aW9ucyRsb2NhbDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kZWZhdWx0T3B0aW9ucyRsb2NhbDIud2Vla1N0YXJ0c09uKSAhPT0gbnVsbCAmJiBfcmVmICE9PSB2b2lkIDAgPyBfcmVmIDogMCk7IC8vIFRlc3QgaWYgd2Vla1N0YXJ0c09uIGlzIGJldHdlZW4gMCBhbmQgNiBfYW5kXyBpcyBub3QgTmFOXG5cbiAgaWYgKCEod2Vla1N0YXJ0c09uID49IDAgJiYgd2Vla1N0YXJ0c09uIDw9IDYpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3dlZWtTdGFydHNPbiBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNiBpbmNsdXNpdmVseScpO1xuICB9XG5cbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgdmFyIGRheSA9IGRhdGUuZ2V0RGF5KCk7XG4gIHZhciBkaWZmID0gKGRheSA8IHdlZWtTdGFydHNPbiA/IDcgOiAwKSArIGRheSAtIHdlZWtTdGFydHNPbjtcbiAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gZGlmZik7XG4gIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBkYXRlO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvSW50ZWdlcihkaXJ0eU51bWJlcikge1xuICBpZiAoZGlydHlOdW1iZXIgPT09IG51bGwgfHwgZGlydHlOdW1iZXIgPT09IHRydWUgfHwgZGlydHlOdW1iZXIgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuXG4gIHZhciBudW1iZXIgPSBOdW1iZXIoZGlydHlOdW1iZXIpO1xuXG4gIGlmIChpc05hTihudW1iZXIpKSB7XG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuXG4gIHJldHVybiBudW1iZXIgPCAwID8gTWF0aC5jZWlsKG51bWJlcikgOiBNYXRoLmZsb29yKG51bWJlcik7XG59IiwiaW1wb3J0IGlzU2FtZVdlZWsgZnJvbSBcIi4uL2lzU2FtZVdlZWsvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNUaGlzV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGdpdmVuIGRhdGUgaW4gdGhlIHNhbWUgd2VlayBhcyB0aGUgY3VycmVudCBkYXRlP1xuICogQHB1cmUgZmFsc2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIElzIHRoZSBnaXZlbiBkYXRlIGluIHRoZSBzYW1lIHdlZWsgYXMgdGhlIGN1cnJlbnQgZGF0ZT9cbiAqXG4gKiA+IOKaoO+4jyBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgbm90IHByZXNlbnQgaW4gdGhlIEZQIHN1Ym1vZHVsZSBhc1xuICogPiBpdCB1c2VzIGBEYXRlLm5vdygpYCBpbnRlcm5hbGx5IGhlbmNlIGltcHVyZSBhbmQgY2FuJ3QgYmUgc2FmZWx5IGN1cnJpZWQuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gdGhlIG9iamVjdCB3aXRoIG9wdGlvbnNcbiAqIEBwYXJhbSB7TG9jYWxlfSBbb3B0aW9ucy5sb2NhbGU9ZGVmYXVsdExvY2FsZV0gLSB0aGUgbG9jYWxlIG9iamVjdC4gU2VlIFtMb2NhbGVde0BsaW5rIGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvTG9jYWxlfVxuICogQHBhcmFtIHswfDF8MnwzfDR8NXw2fSBbb3B0aW9ucy53ZWVrU3RhcnRzT249MF0gLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayAoMCAtIFN1bmRheSlcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0aGUgZGF0ZSBpcyBpbiB0aGlzIHdlZWtcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMud2Vla1N0YXJ0c09uYCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyAyNSBTZXB0ZW1iZXIgMjAxNCwgaXMgMjEgU2VwdGVtYmVyIDIwMTQgaW4gdGhpcyB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNUaGlzV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyMSkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgMjUgU2VwdGVtYmVyIDIwMTQgYW5kIHdlZWsgc3RhcnRzIHdpdGggTW9uZGF5XG4gKiAvLyBpcyAyMSBTZXB0ZW1iZXIgMjAxNCBpbiB0aGlzIHdlZWs/XG4gKiBjb25zdCByZXN1bHQgPSBpc1RoaXNXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIxKSwgeyB3ZWVrU3RhcnRzT246IDEgfSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNUaGlzV2VlayhkaXJ0eURhdGUsIG9wdGlvbnMpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBpc1NhbWVXZWVrKGRpcnR5RGF0ZSwgRGF0ZS5ub3coKSwgb3B0aW9ucyk7XG59IiwiaW1wb3J0IHN0YXJ0T2ZXZWVrIGZyb20gXCIuLi9zdGFydE9mV2Vlay9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1NhbWVXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcik/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcik/XG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqIEBwYXJhbSB7TG9jYWxlfSBbb3B0aW9ucy5sb2NhbGU9ZGVmYXVsdExvY2FsZV0gLSB0aGUgbG9jYWxlIG9iamVjdC4gU2VlIFtMb2NhbGVde0BsaW5rIGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvTG9jYWxlfVxuICogQHBhcmFtIHswfDF8MnwzfDR8NXw2fSBbb3B0aW9ucy53ZWVrU3RhcnRzT249MF0gLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayAoMCAtIFN1bmRheSlcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0aGUgZGF0ZXMgYXJlIGluIHRoZSBzYW1lIHdlZWsgKGFuZCBtb250aCBhbmQgeWVhcilcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLndlZWtTdGFydHNPbmAgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDZcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDMxIEF1Z3VzdCAyMDE0IGFuZCA0IFNlcHRlbWJlciAyMDE0IGluIHRoZSBzYW1lIHdlZWs/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVXZWVrKG5ldyBEYXRlKDIwMTQsIDcsIDMxKSwgbmV3IERhdGUoMjAxNCwgOCwgNCkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgd2VlayBzdGFydHMgd2l0aCBNb25kYXksXG4gKiAvLyBhcmUgMzEgQXVndXN0IDIwMTQgYW5kIDQgU2VwdGVtYmVyIDIwMTQgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgNywgMzEpLCBuZXcgRGF0ZSgyMDE0LCA4LCA0KSwge1xuICogICB3ZWVrU3RhcnRzT246IDFcbiAqIH0pXG4gKiAvLz0+IGZhbHNlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAxIEphbnVhcnkgMjAxNCBhbmQgMSBKYW51YXJ5IDIwMTUgaW4gdGhlIHNhbWUgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZVdlZWsobmV3IERhdGUoMjAxNCwgMCwgMSksIG5ldyBEYXRlKDIwMTUsIDAsIDEpKVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1NhbWVXZWVrKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0LCBvcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZUxlZnRTdGFydE9mV2VlayA9IHN0YXJ0T2ZXZWVrKGRpcnR5RGF0ZUxlZnQsIG9wdGlvbnMpO1xuICB2YXIgZGF0ZVJpZ2h0U3RhcnRPZldlZWsgPSBzdGFydE9mV2VlayhkaXJ0eURhdGVSaWdodCwgb3B0aW9ucyk7XG4gIHJldHVybiBkYXRlTGVmdFN0YXJ0T2ZXZWVrLmdldFRpbWUoKSA9PT0gZGF0ZVJpZ2h0U3RhcnRPZldlZWsuZ2V0VGltZSgpO1xufSIsImltcG9ydCBhZGRQcm9qZWN0TGlzdCBmcm9tICcuL2FkZFByb2plY3QnXG5pbXBvcnQgZG9tIGZyb20gJy4vRE9NJ1xuXG5jb25zdCBzdG9yYWdlID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIGZ1bmN0aW9uIHBvcHVsYXRlRGF0YSgpIHtcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0JykpIHtcblxuICAgICAgICAgICAgbGV0IHN0b3JhZ2VBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3QnKSlcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9yYWdlQXJyYXkubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5LnB1c2goc3RvcmFnZUFycmF5W2ldKVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RvcmFnZUFycmF5W2ldKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb20uY3JlYXRlUHJvamVjdERpdigpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9yZURhdGEoKSB7XG5cbiAgICAgICAgbGV0IHN0b3JhZ2VBcnJheSA9IGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5XG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3QnLCBKU09OLnN0cmluZ2lmeShzdG9yYWdlQXJyYXkpKVxuXG4gICAgICAgIGNvbnNvbGUubG9nKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3QnKSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9wdWxhdGVEYXRhLFxuICAgICAgICBzdG9yZURhdGFcbiAgICB9XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBzdG9yYWdlIiwiaW1wb3J0IHsgaXNUaGlzV2VlaywgaXNUb2RheSB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCBhZGRQcm9qZWN0TGlzdCBmcm9tICcuL2FkZFByb2plY3QnXG5pbXBvcnQgc3RvcmFnZSBmcm9tICcuL3N0b3JhZ2UnXG5cbmNvbnN0IGRvbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgbGV0IGluZGV4ID0gMFxuICAgIGxldCB0YXNrSW5kZXggPSAwXG4gICAgbGV0IG9wZW5Qcm9qZWN0XG4gICAgbGV0IHRhcmdldFByb2plY3QgXG4gICAgbGV0IHRhcmdldFByb2plY3RUaXRsZVxuICAgIGNvbnN0IHByb2plY3RzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1saXN0cycpXG4gICAgY29uc3QgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1jb250ZW50JylcbiAgICBjb25zdCBkdWVDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmR1ZS1jb250ZW50JylcbiAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC10aXRsZScpXG4gICAgY29uc3QgcHJvamVjdERlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtZGVzY3JpcHRpb24nKVxuICAgIGNvbnN0IHByb2plY3REdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1kdWUnKVxuICAgIGNvbnN0IHByb2plY3RQcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmlvcml0eScpXG4gICAgY29uc3QgdGFza0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrLWJ1dHRvbicpXG4gICAgY29uc3QgYWxsVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxsLXRhc2tzJylcbiAgICBjb25zdCBkdWVUb2RheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kdWUtdG9kYXknKVxuICAgIGNvbnN0IGR1ZVRoaXNXZWVrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmR1ZS10aGlzLXdlZWsnKVxuICAgIGNvbnN0IGR1ZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmR1ZS10aXRsZScpXG4gICAgY29uc3QgZHVlUHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHVlLXByb2plY3RzLWxpc3RzJylcbiAgICBjb25zdCBwcmlvcml0eVRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmlvcml0eS10YWInKVxuXG4gICAgY29uc3QgY3JlYXRlUHJvamVjdERpdiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0LWRpc3BsYXknKVxuXG4gICAgICAgIHByb2plY3RzLmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgICAgICAgIHByb2plY3RzTGlzdC5yZW1vdmVDaGlsZChwcm9qZWN0KVxuICAgICAgICB9KVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXkubGVuZ3RoOyBpKyspe1xuXG4gICAgICAgICAgICBjb25zdCBkZWxldGVQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgICAgIGNvbnN0IGVkaXRQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgY29uc3QgcHJvamVjdFRpdGxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICAgICAgICAgICAgcHJvamVjdERpdi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWRpc3BsYXknKVxuICAgICAgICAgICAgcHJvamVjdHNMaXN0LmFwcGVuZENoaWxkKHByb2plY3REaXYpXG5cbiAgICAgICAgICAgIHByb2plY3RUaXRsZURpdi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0JylcbiAgICAgICAgICAgIHByb2plY3RUaXRsZURpdi50ZXh0Q29udGVudCA9IGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2ldWyd0aXRsZSddXG4gICAgICAgICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKHByb2plY3RUaXRsZURpdilcblxuICAgICAgICAgICAgZGVsZXRlUHJvamVjdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkZWxldGUtcHJvamVjdC1idXR0b24nKVxuICAgICAgICAgICAgZGVsZXRlUHJvamVjdEJ1dHRvbi5pbm5lckhUTUwgPSAnPHN2ZyBjbGFzcz1cImRlbGV0ZVNWR1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggY2xhc3M9XCJkZWxldGVTVkdcIiBkPVwiTTE5LDRIMTUuNUwxNC41LDNIOS41TDguNSw0SDVWNkgxOU02LDE5QTIsMiAwIDAsMCA4LDIxSDE2QTIsMiAwIDAsMCAxOCwxOVY3SDZWMTlaXCIgLz48L3N2Zz4nXG4gICAgICAgICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKGRlbGV0ZVByb2plY3RCdXR0b24pXG5cbiAgICAgICAgICAgIGVkaXRQcm9qZWN0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VkaXQtcHJvamVjdC1idXR0b24nKVxuICAgICAgICAgICAgZWRpdFByb2plY3RCdXR0b24uaW5uZXJIVE1MID0gJzxzdmcgY2xhc3M9XCJlZGl0U1ZHXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBjbGFzcz1cImVkaXRTVkdcIiBkPVwiTTUsM0MzLjg5LDMgMywzLjg5IDMsNVYxOUEyLDIgMCAwLDAgNSwyMUgxOUEyLDIgMCAwLDAgMjEsMTlWMTJIMTlWMTlINVY1SDEyVjNINU0xNy43OCw0QzE3LjYxLDQgMTcuNDMsNC4wNyAxNy4zLDQuMkwxNi4wOCw1LjQxTDE4LjU4LDcuOTFMMTkuOCw2LjdDMjAuMDYsNi40NCAyMC4wNiw2IDE5LjgsNS43NUwxOC4yNSw0LjJDMTguMTIsNC4wNyAxNy45NSw0IDE3Ljc4LDRNMTUuMzcsNi4xMkw4LDEzLjVWMTZIMTAuNUwxNy44Nyw4LjYyTDE1LjM3LDYuMTJaXCIgLz48L3N2Zz4nXG4gICAgICAgICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKGVkaXRQcm9qZWN0QnV0dG9uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZWRpdFByb2plY3REaXYgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGFyZ2V0UHJvamVjdFRpdGxlLnRleHRDb250ZW50ID0gb3BlblByb2plY3RbJ3RpdGxlJ11cbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVQcm9qZWN0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cbiAgICAgICAgaWYgKGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2luZGV4XSA9PT0gb3BlblByb2plY3QpIHtcbiAgICAgICAgICAgIG1haW5Db250ZW50LnN0eWxlLmRpc3BsYXk9J25vbmUnXG4gICAgICAgIH1cblxuICAgICAgICBhZGRQcm9qZWN0TGlzdC5teVByb2plY3RBcnJheS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgfVxuXG4gICAgY29uc3QgZ2VuZXJhdGVOZXdUYXNrID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGNvbnN0IG5ld1Rhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBuZXdUYXNrLmNsYXNzTGlzdC5hZGQoJ2luZGl2aWR1YWwtdGFzaycpXG4gICAgICAgIGFsbFRhc2tzLmFwcGVuZENoaWxkKG5ld1Rhc2spXG5cbiAgICAgICAgY29uc3QgbmV3Q2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBuZXdDaGVja2JveC5jbGFzc0xpc3QuYWRkKCd0YXNrLWNoZWNrYm94LWRpdicpXG4gICAgICAgIG5ld1Rhc2suYXBwZW5kQ2hpbGQobmV3Q2hlY2tib3gpXG4gICAgICAgIG5ld0NoZWNrYm94LmlubmVySFRNTCA9ICc8bGFiZWwgZm9yPVwidGFzazEtY2hlY2tib3hcIj48L2xhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcyA9IFwidGFzay1jaGVja2JveFwiIGlkPVwidGFzazEtY2hlY2tib3hcIiBuYW1lPVwiY2hlY2tib3hcIj4nXG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXdJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIG5ld0lucHV0LmNsYXNzTGlzdC5hZGQoJ3Rhc2staW5wdXQtZGl2JylcbiAgICAgICAgbmV3VGFzay5hcHBlbmRDaGlsZChuZXdJbnB1dClcbiAgICAgICAgbmV3SW5wdXQuaW5uZXJIVE1MID0gJzxsYWJlbCBmb3I9XCJ0YXNrMS1pbnB1dFwiPjwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJ0YXNrLWlucHV0XCIgaWQ9XCJ0YXNrMS1pbnB1dFwiIG5hbWU9XCJ0YXNrXCIgcmVxdWlyZWQ+J1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdGFza0RlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHRhc2tEZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgndGFzay1kZWxldGUtYnV0dG9uJylcbiAgICAgICAgbmV3VGFzay5hcHBlbmRDaGlsZCh0YXNrRGVsZXRlQnV0dG9uKVxuICAgICAgICB0YXNrRGVsZXRlQnV0dG9uLmlubmVySFRNTCA9ICc8c3ZnIGNsYXNzPVwiZGVsZXRlU1ZHXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBjbGFzcz1cImRlbGV0ZVNWR1wiIGQ9XCJNMTksNEgxNS41TDE0LjUsM0g5LjVMOC41LDRINVY2SDE5TTYsMTlBMiwyIDAgMCwwIDgsMjFIMTZBMiwyIDAgMCwwIDE4LDE5VjdINlYxOVpcIiAvPjwvc3ZnPidcbiAgICAgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IGdlbmVyYXRlVGFza09iamVjdCA9IGZ1bmN0aW9uICh0YXNrTmFtZSwgaXNDb21wbGV0ZWQpIHtcblxuICAgICAgICBpZiAoaXNDb21wbGV0ZWQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpc0NvbXBsZXRlZCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICBcbiAgICAgICAgcmV0dXJuIHt0YXNrTmFtZSwgaXNDb21wbGV0ZWR9XG4gICAgfVxuXG4gICAgY29uc3QgZ2VuZXJhdGVUYXNrTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcGVuUHJvamVjdFsndGFza3MnXS5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBnZW5lcmF0ZU5ld1Rhc2soKVxuXG4gICAgICAgICAgICBjb25zdCB0YXNrSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFzay1pbnB1dCcpXG4gICAgICAgICAgICBjb25zdCBjaGVja0JveCAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFzay1jaGVja2JveCcpXG4gICAgICAgICAgICB0YXNrSW5wdXRbaV0udmFsdWUgPSBvcGVuUHJvamVjdFsndGFza3MnXVtpXVsndGFza05hbWUnXVxuICAgICAgICAgICAgY2hlY2tCb3hbaV0uY2hlY2tlZCA9IG9wZW5Qcm9qZWN0Wyd0YXNrcyddW2ldWydpc0NvbXBsZXRlZCddXG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNsZWFyVGFza0xpc3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgY29uc3QgaW5kaXZpZHVhbFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5kaXZpZHVhbC10YXNrJylcbiAgICAgICBcbiAgICAgICAgaW5kaXZpZHVhbFRhc2suZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICAgICAgYWxsVGFza3MucmVtb3ZlQ2hpbGQodGFzaylcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBnZW5lcmF0ZUR1ZVByb2plY3RzID0gZnVuY3Rpb24gKGR1ZVR5cGUpIHtcbiAgICAgICAgXG4gICAgICAgIG1haW5Db250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgZHVlQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG4gICAgICAgXG4gICAgICAgIHdoaWxlIChkdWVQcm9qZWN0TGlzdC5oYXNDaGlsZE5vZGVzKCkpe1xuICAgICAgICAgICAgZHVlUHJvamVjdExpc3QucmVtb3ZlQ2hpbGQoZHVlUHJvamVjdExpc3QuZmlyc3RDaGlsZClcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXkubGVuZ3RoOyBpKyspe1xuXG4gICAgICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGAke2FkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2ldWydkYXRlJ119YCArIGBDRFRgKVxuXG4gICAgICAgICAgICBpZiAoZHVlVHlwZSA9PSAnaXNUb2RheScpIHtcblxuICAgICAgICAgICAgICAgIGR1ZVRpdGxlLnRleHRDb250ZW50ID0gJ0R1ZSBUb2RheSdcblxuICAgICAgICAgICAgICAgIGlmIChpc1RvZGF5KG5ldyBEYXRlKGRhdGUpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1ZVByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICBkdWVQcm9qZWN0RGl2LmNsYXNzTGlzdC5hZGQoJ2R1ZS1wcm9qZWN0JylcbiAgICAgICAgICAgICAgICAgICAgZHVlUHJvamVjdExpc3QuYXBwZW5kQ2hpbGQoZHVlUHJvamVjdERpdilcbiAgICAgICAgICAgICAgICAgICAgZHVlUHJvamVjdERpdi50ZXh0Q29udGVudCA9IGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2ldWyd0aXRsZSddXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkdWVUeXBlID09ICdpc1RoaXNXZWVrJykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGR1ZVRpdGxlLnRleHRDb250ZW50ID0gJ0R1ZSBUaGlzIFdlZWsnXG5cbiAgICAgICAgICAgICAgICBpZiAoaXNUaGlzV2VlayhuZXcgRGF0ZShkYXRlKSkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkdWVQcm9qZWN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgICAgICAgICAgZHVlUHJvamVjdERpdi5jbGFzc0xpc3QuYWRkKCdkdWUtcHJvamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIGR1ZVByb2plY3RMaXN0LmFwcGVuZENoaWxkKGR1ZVByb2plY3REaXYpXG4gICAgICAgICAgICAgICAgICAgIGR1ZVByb2plY3REaXYudGV4dENvbnRlbnQgPSBhZGRQcm9qZWN0TGlzdC5teVByb2plY3RBcnJheVtpXVsndGl0bGUnXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZ2VuZXJhdGVQcmlvcml0eVByb2plY3RzID0gZnVuY3Rpb24gKHByaW9yaXR5KSB7XG5cbiAgICAgICAgbWFpbkNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICBkdWVDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcbiAgICAgICBcbiAgICAgICAgd2hpbGUgKGR1ZVByb2plY3RMaXN0Lmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgZHVlUHJvamVjdExpc3QucmVtb3ZlQ2hpbGQoZHVlUHJvamVjdExpc3QuZmlyc3RDaGlsZClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcmlvcml0eSA9PSAnbG93Jykge1xuXG4gICAgICAgICAgICBkdWVUaXRsZS50ZXh0Q29udGVudCA9ICdMb3cgUHJpb3JpdHkgUHJvamVjdHMnXG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXlbaV1bJ3ByaW9yaXR5J10gPT0gJ0xvdycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVlUHJvamVjdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgICAgIGR1ZVByb2plY3REaXYuY2xhc3NMaXN0LmFkZCgnZHVlLXByb2plY3QnKVxuICAgICAgICAgICAgICAgICAgICBkdWVQcm9qZWN0TGlzdC5hcHBlbmRDaGlsZChkdWVQcm9qZWN0RGl2KVxuICAgICAgICAgICAgICAgICAgICBkdWVQcm9qZWN0RGl2LnRleHRDb250ZW50ID0gYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXlbaV1bJ3RpdGxlJ11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT0gJ21lZCcpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZHVlVGl0bGUudGV4dENvbnRlbnQgPSAnTWVkaXVtIFByaW9yaXR5IFByb2plY3RzJ1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2ldWydwcmlvcml0eSddID09ICdNZWRpdW0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1ZVByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICBkdWVQcm9qZWN0RGl2LmNsYXNzTGlzdC5hZGQoJ2R1ZS1wcm9qZWN0JylcbiAgICAgICAgICAgICAgICAgICAgZHVlUHJvamVjdExpc3QuYXBwZW5kQ2hpbGQoZHVlUHJvamVjdERpdilcbiAgICAgICAgICAgICAgICAgICAgZHVlUHJvamVjdERpdi50ZXh0Q29udGVudCA9IGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2ldWyd0aXRsZSddXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09ICdoaWdoJykge1xuICAgICAgICAgICAgZHVlVGl0bGUudGV4dENvbnRlbnQgPSAnSGlnaCBQcmlvcml0eSBQcm9qZWN0cydcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhZGRQcm9qZWN0TGlzdC5teVByb2plY3RBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChhZGRQcm9qZWN0TGlzdC5teVByb2plY3RBcnJheVtpXVsncHJpb3JpdHknXSA9PSAnSGlnaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVlUHJvamVjdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgICAgIGR1ZVByb2plY3REaXYuY2xhc3NMaXN0LmFkZCgnZHVlLXByb2plY3QnKVxuICAgICAgICAgICAgICAgICAgICBkdWVQcm9qZWN0TGlzdC5hcHBlbmRDaGlsZChkdWVQcm9qZWN0RGl2KVxuICAgICAgICAgICAgICAgICAgICBkdWVQcm9qZWN0RGl2LnRleHRDb250ZW50ID0gYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXlbaV1bJ3RpdGxlJ11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJvamVjdHNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKHByb2plY3QpID0+IHtcbiAgICAgICAgaWYgKChwcm9qZWN0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2plY3QnKSkgfHxcbiAgICAgICAgICAgIChwcm9qZWN0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbGV0ZVNWRycpKSB8fFxuICAgICAgICAgICAgKHByb2plY3QudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWRpdFNWRycpKSkge1xuICAgICAgICBcbiAgICAgICAgICAgIHRhcmdldFByb2plY3QgPSBwcm9qZWN0LnRhcmdldC5jbG9zZXN0KCcucHJvamVjdC1kaXNwbGF5JylcbiAgICAgICAgICAgIGluZGV4ID0gQXJyYXkuZnJvbSh0YXJnZXRQcm9qZWN0LnBhcmVudE5vZGUuY2hpbGRyZW4pLmluZGV4T2YodGFyZ2V0UHJvamVjdClcbiAgICAgICAgICAgIG9wZW5Qcm9qZWN0ID0gYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXlbaW5kZXhdXG4gICAgICAgIH1cbiAgICB9KVxuICAgICBcbiAgICAvLyBFdmVudCBoYW5kbGVyIHdoZW4gYSBwcm9qZWN0IGlzIGRlbGV0ZWRcbiAgICBwcm9qZWN0c0xpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAocHJvamVjdCkgPT4ge1xuICAgICAgICBpZiAocHJvamVjdC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZWxldGVTVkcnKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdERpdiA9IHByb2plY3QudGFyZ2V0LmNsb3Nlc3QoJy5wcm9qZWN0LWRpc3BsYXknKVxuICAgICAgICAgICAgZGVsZXRlUHJvamVjdChpbmRleClcbiAgICAgICAgICAgIHByb2plY3RzTGlzdC5yZW1vdmVDaGlsZChwcm9qZWN0RGl2KVxuICAgICAgICAgICAgc3RvcmFnZS5zdG9yZURhdGEoKSAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSlcblxuICAgIC8vIEV2ZW50IGhhbmRsZXIgd2hlbiBhIHByb2plY3QgZWRpdCBidXR0b24gaXMgY2xpY2tlZFxuICAgIHByb2plY3RzTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChwcm9qZWN0KSA9PiB7XG5cbiAgICAgICAgaWYgKHByb2plY3QudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWRpdFNWRycpKSB7XG5cbiAgICAgICAgICAgIGFkZFByb2plY3RMaXN0LmRpc3BsYXlFZGl0Rm9ybShpbmRleClcblxuICAgICAgICAgICAgdGFyZ2V0UHJvamVjdFRpdGxlID0gdGFyZ2V0UHJvamVjdC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdCcpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gRXZlbnQgaGFuZGxlciB3aGVuIGEgcHJvamVjdCBpcyBjbGlja2VkXG4gICAgcHJvamVjdHNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKHByb2plY3QpID0+IHtcbiAgICAgICAgaWYgKHByb2plY3QudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJvamVjdCcpKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG1haW5Db250ZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcbiAgICAgICAgICAgIGR1ZUNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXG4gICAgICAgICAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBvcGVuUHJvamVjdFsndGl0bGUnXVxuICAgICAgICAgICAgcHJvamVjdERlc2NyaXB0aW9uLnRleHRDb250ZW50ICA9IG9wZW5Qcm9qZWN0WydkZXNjcmlwdGlvbiddXG4gICAgICAgICAgICBwcm9qZWN0RHVlLnRleHRDb250ZW50ICA9IG9wZW5Qcm9qZWN0WydkYXRlJ11cbiAgICAgICAgICAgIHByb2plY3RQcmlvcml0eS50ZXh0Q29udGVudCA9IGAoYCtgJHtvcGVuUHJvamVjdFsncHJpb3JpdHknXX1gXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNsZWFyVGFza0xpc3QoKVxuICAgICAgICAgICAgZ2VuZXJhdGVUYXNrTGlzdCgpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgYWxsVGFza3MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLWNoZWNrYm94JykpIHx8XG4gICAgICAgICAgICAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFzay1pbnB1dCcpKSB8fFxuICAgICAgICAgICAgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbGV0ZVNWRycpKSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgdGFyZ2V0VGFzayA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuaW5kaXZpZHVhbC10YXNrJylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGFza0luZGV4ID0gQXJyYXkuZnJvbSh0YXJnZXRUYXNrLnBhcmVudE5vZGUuY2hpbGRyZW4pLmluZGV4T2YodGFyZ2V0VGFzaylcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBFdmVudCBoYW5kbGVyIGZvciBuZXcgdGFzayBjcmVhdGlvblxuICAgIHRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgXG4gICAgICAgIGdlbmVyYXRlTmV3VGFzaygpXG4gICAgXG4gICAgICAgIGxldCB0YXNrTmFtZVxuICAgICAgICBsZXQgaXNDb21wbGV0ZWQgXG4gICAgICAgXG4gICAgICAgIGFsbFRhc2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFzay1jaGVja2JveCcpKSB7XG5cbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkXG4gICAgICAgICAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGdlbmVyYXRlVGFza09iamVjdCh0YXNrTmFtZSwgaXNDb21wbGV0ZWQpXG4gICAgICAgICAgICAgICAgYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXlbaW5kZXhdWyd0YXNrcyddW3Rhc2tJbmRleF0gPSB0YXNrT2JqZWN0XG4gICAgICAgICAgICAgICAgc3RvcmFnZS5zdG9yZURhdGEoKVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Rhc2staW5wdXQnKSkge1xuXG4gICAgICAgICAgICAgICAgdGFza05hbWUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gZ2VuZXJhdGVUYXNrT2JqZWN0KHRhc2tOYW1lLCBpc0NvbXBsZXRlZClcbiAgICAgICAgICAgICAgICBhZGRQcm9qZWN0TGlzdC5teVByb2plY3RBcnJheVtpbmRleF1bJ3Rhc2tzJ11bdGFza0luZGV4XSA9IHRhc2tPYmplY3RcbiAgICAgICAgICAgICAgICBzdG9yYWdlLnN0b3JlRGF0YSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIEV2ZW50IGhhbmRsZXIgZm9yIGRlbGV0aW5nIGEgdGFza1xuICAgIGFsbFRhc2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZWxldGVTVkcnKSkge1xuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGFzayA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuaW5kaXZpZHVhbC10YXNrJylcbiAgICAgICAgICAgIGFkZFByb2plY3RMaXN0Lm15UHJvamVjdEFycmF5W2luZGV4XVsndGFza3MnXS5zcGxpY2UodGFza0luZGV4LDEpXG4gICAgICAgICAgICBhbGxUYXNrcy5yZW1vdmVDaGlsZChjdXJyZW50VGFzaylcbiAgICAgICAgICAgIHN0b3JhZ2Uuc3RvcmVEYXRhKClcbiAgICAgICAgfVxuICAgIH0pIFxuXG4gICAgLy8gRXZlbnQgaGFuZGxlciBmb3Igc29ydGluZyBieSBkdWUgZGF0ZVxuICAgIGR1ZVRvZGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBnZW5lcmF0ZUR1ZVByb2plY3RzKCdpc1RvZGF5JylcbiAgICB9KVxuXG4gICAgLy8gRXZlbnQgaGFuZGxlciBmb3Igc29ydGluZyBieSBkdWUgZGF0ZVxuICAgIGR1ZVRoaXNXZWVrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgZ2VuZXJhdGVEdWVQcm9qZWN0cygnaXNUaGlzV2VlaycpICAgICAgIFxuICAgIH0pXG5cbiAgICAvLyBFdmVudCBoYW5kbGVyIGZvciBzb3J0aW5nIGJ5IHByaW9yaXR5IFxuICAgIHByaW9yaXR5VGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmlvcml0eS1sb3cnKSkge1xuICAgICAgICAgICAgZ2VuZXJhdGVQcmlvcml0eVByb2plY3RzKCdsb3cnKVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3ByaW9yaXR5LW1lZCcpKSB7XG4gICAgICAgICAgICBnZW5lcmF0ZVByaW9yaXR5UHJvamVjdHMoJ21lZCcpXG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJpb3JpdHktaGlnaCcpKSB7XG4gICAgICAgICAgICBnZW5lcmF0ZVByaW9yaXR5UHJvamVjdHMoJ2hpZ2gnKVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZVByb2plY3REaXYsXG4gICAgICAgIGVkaXRQcm9qZWN0RGl2LFxuICAgICAgICBkZWxldGVQcm9qZWN0LFxuICAgICAgICBpbmRleFxuICAgIH1cblxufSkoKTtcbiAgICBcbmV4cG9ydCBkZWZhdWx0IGRvbSIsImltcG9ydCBkb20gZnJvbSAnLi9ET00nXG5pbXBvcnQgc3RvcmFnZSBmcm9tICcuL3N0b3JhZ2UnXG5cbmNvbnN0IGFkZFByb2plY3RMaXN0ID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIGNvbnN0IGFkZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXByb2plY3QnKVxuICAgIGNvbnN0IGVkaXRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtcHJvamVjdCcpXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtcHJvamVjdC1mb3JtJylcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aXRsZScpXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVzY3JpcHRpb24nKVxuICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0ZScpXG4gICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1wcmlvcml0eS1idXR0b24nKVxuICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQnKVxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW5jZWwnKVxuICAgIGNvbnN0IGVkaXRUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZGl0LXRpdGxlJylcbiAgICBjb25zdCBlZGl0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdC1kZXNjcmlwdGlvbicpXG4gICAgY29uc3QgZWRpdERhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdC1kYXRlJylcbiAgICBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQnKVxuICAgIGNvbnN0IGVkaXRDYW5jZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1jYW5jZWwnKVxuXG4gICAgbGV0IG9wZW5Qcm9qZWN0XG4gICAgbGV0IG15UHJvamVjdEFycmF5ID0gW11cbiAgICBsZXQgcHJpb3JpdHlWYWx1ZSA9ICdMb3cnXG4gICBcbiAgICBjb25zdCBkaXNwbGF5Rm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgXG4gICAgICAgIGZvcm0ucmVzZXQoKVxuICAgICAgICBhZGRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcblxuICAgICAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aXRsZS52YWx1ZSAhPSAnJykge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gY3JlYXRlUHJvamVjdCh0aXRsZS52YWx1ZSwgZGVzY3JpcHRpb24udmFsdWUsIGRhdGUudmFsdWUsIHByaW9yaXR5VmFsdWUpXG4gICAgICAgICAgICAgICAgbXlQcm9qZWN0QXJyYXkucHVzaChuZXdQcm9qZWN0KVxuICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc3RvcmVEYXRhKClcbiAgICAgICAgICAgICAgICBkb20uY3JlYXRlUHJvamVjdERpdigpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlQcm9qZWN0QXJyYXkpXG4gICAgICAgICAgICAgICAgYWRkUHJvamVjdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9ICdMb3cnXG4gICAgICAgICAgICAgICAgZm9ybS5yZXNldCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYWRkUHJvamVjdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgICAgICBmb3JtLnJlc2V0KClcbiAgICAgICAgfSlcblxuICAgICAgICBhZGRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IGFkZFByb2plY3QpIHtcbiAgICAgICAgICAgICAgICBhZGRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBwcmlvcml0eS5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9IGJ1dHRvbi50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByaW9yaXR5VmFsdWUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IGRpc3BsYXlFZGl0Rm9ybSA9IGZ1bmN0aW9uIChpbmRleCkge1xuXG4gICAgICAgIGVkaXRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcbiAgICAgICAgY29uc29sZS5sb2coaW5kZXgpXG4gICAgICAgIGNvbnNvbGUubG9nKGRvbS5pbmRleClcbiAgICAgICAgb3BlblByb2plY3QgPSBteVByb2plY3RBcnJheVtpbmRleF1cblxuICAgICAgICBlZGl0VGl0bGUudmFsdWUgPSBvcGVuUHJvamVjdFsndGl0bGUnXVxuICAgICAgICBlZGl0RGVzY3JpcHRpb24udmFsdWUgPSBvcGVuUHJvamVjdFsnZGVzY3JpcHRpb24nXVxuICAgICAgICBlZGl0RGF0ZS52YWx1ZSA9IG9wZW5Qcm9qZWN0WydkYXRlJ11cblxuICAgICAgICBlZGl0Q2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZWRpdFByb2plY3Quc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICAgICAgZm9ybS5yZXNldCgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgZWRpdFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT0gZWRpdFByb2plY3QpIHtcbiAgICAgICAgICAgICAgICBlZGl0UHJvamVjdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gZnVuY3Rpb24gKHRpdGxlLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHkpIHtcbiAgICAgICAgbGV0IHRhc2tzID0gW11cbiAgICAgICAgcmV0dXJuIHt0aXRsZSxkZXNjcmlwdGlvbixkYXRlLHByaW9yaXR5LHRhc2tzfVxuICAgIH1cblxuICAgIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgb3BlblByb2plY3RbJ3RpdGxlJ10gPSBlZGl0VGl0bGUudmFsdWVcbiAgICAgICAgb3BlblByb2plY3RbJ2Rlc2NyaXB0aW9uJ10gPSBlZGl0RGVzY3JpcHRpb24udmFsdWUgXG4gICAgICAgIG9wZW5Qcm9qZWN0WydkYXRlJ10gPSBlZGl0RGF0ZS52YWx1ZVxuXG4gICAgICAgIGVkaXRQcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgc3RvcmFnZS5zdG9yZURhdGEoKVxuICAgICAgICBkb20uZWRpdFByb2plY3REaXYoKVxuICAgICAgICBmb3JtLnJlc2V0KClcbiAgICB9KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUHJvamVjdCxcbiAgICAgICAgYWRkQnV0dG9uLFxuICAgICAgICBkaXNwbGF5Rm9ybSxcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBkYXRlLFxuICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgbXlQcm9qZWN0QXJyYXksXG4gICAgICAgIGNyZWF0ZVByb2plY3QsXG4gICAgICAgIGRpc3BsYXlFZGl0Rm9ybVxuICAgIH1cblxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgYWRkUHJvamVjdExpc3RcblxuIiwiaW1wb3J0IGFkZFByb2plY3RMaXN0IGZyb20gJy4vYWRkUHJvamVjdCdcbmltcG9ydCBkb20gZnJvbSAnLi9ET00nXG5pbXBvcnQgc3RvcmFnZSBmcm9tICcuL3N0b3JhZ2UnXG5cbnN0b3JhZ2UucG9wdWxhdGVEYXRhKClcblxuY29uc29sZS5sb2coYWRkUHJvamVjdExpc3QubXlQcm9qZWN0QXJyYXkpXG5cbmNvbnN0IG5ld1Byb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1idXR0b24nKVxuXG5uZXdQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkUHJvamVjdExpc3QuZGlzcGxheUZvcm0pXG5cbmRvbVxuXG4iXSwibmFtZXMiOlsicmVxdWlyZWRBcmdzIiwicmVxdWlyZWQiLCJhcmdzIiwibGVuZ3RoIiwiVHlwZUVycm9yIiwiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJ0b0RhdGUiLCJhcmd1bWVudCIsImFyZ3VtZW50cyIsImFyZ1N0ciIsIk9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsIkRhdGUiLCJnZXRUaW1lIiwiY29uc29sZSIsIndhcm4iLCJFcnJvciIsInN0YWNrIiwiTmFOIiwic3RhcnRPZkRheSIsImRpcnR5RGF0ZSIsImRhdGUiLCJzZXRIb3VycyIsImlzVG9kYXkiLCJkaXJ0eURhdGVMZWZ0IiwiZGlydHlEYXRlUmlnaHQiLCJkYXRlTGVmdFN0YXJ0T2ZEYXkiLCJkYXRlUmlnaHRTdGFydE9mRGF5IiwiaXNTYW1lRGF5Iiwibm93IiwiZGVmYXVsdE9wdGlvbnMiLCJnZXREZWZhdWx0T3B0aW9ucyIsInN0YXJ0T2ZXZWVrIiwib3B0aW9ucyIsIl9yZWYiLCJfcmVmMiIsIl9yZWYzIiwiX29wdGlvbnMkd2Vla1N0YXJ0c09uIiwiX29wdGlvbnMkbG9jYWxlIiwiX29wdGlvbnMkbG9jYWxlJG9wdGlvIiwiX2RlZmF1bHRPcHRpb25zJGxvY2FsIiwiX2RlZmF1bHRPcHRpb25zJGxvY2FsMiIsIndlZWtTdGFydHNPbiIsImRpcnR5TnVtYmVyIiwibnVtYmVyIiwiTnVtYmVyIiwiaXNOYU4iLCJNYXRoIiwiY2VpbCIsImZsb29yIiwidG9JbnRlZ2VyIiwibG9jYWxlIiwiUmFuZ2VFcnJvciIsImRheSIsImdldERheSIsImRpZmYiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImlzVGhpc1dlZWsiLCJkYXRlTGVmdFN0YXJ0T2ZXZWVrIiwiZGF0ZVJpZ2h0U3RhcnRPZldlZWsiLCJpc1NhbWVXZWVrIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0b3JhZ2VBcnJheSIsIkpTT04iLCJwYXJzZSIsImkiLCJhZGRQcm9qZWN0IiwibG9nIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIm9wZW5Qcm9qZWN0IiwidGFyZ2V0UHJvamVjdCIsInRhcmdldFByb2plY3RUaXRsZSIsImluZGV4IiwidGFza0luZGV4IiwicHJvamVjdHNMaXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWFpbkNvbnRlbnQiLCJkdWVDb250ZW50IiwicHJvamVjdFRpdGxlIiwicHJvamVjdERlc2NyaXB0aW9uIiwicHJvamVjdER1ZSIsInByb2plY3RQcmlvcml0eSIsInRhc2tCdXR0b24iLCJhbGxUYXNrcyIsImR1ZVRvZGF5IiwiZHVlVGhpc1dlZWsiLCJkdWVUaXRsZSIsImR1ZVByb2plY3RMaXN0IiwicHJpb3JpdHlUYWIiLCJkZWxldGVQcm9qZWN0Iiwic3R5bGUiLCJkaXNwbGF5IiwiZ2VuZXJhdGVOZXdUYXNrIiwibmV3VGFzayIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsIm5ld0NoZWNrYm94IiwiaW5uZXJIVE1MIiwibmV3SW5wdXQiLCJ0YXNrRGVsZXRlQnV0dG9uIiwiZ2VuZXJhdGVUYXNrT2JqZWN0IiwidGFza05hbWUiLCJpc0NvbXBsZXRlZCIsInVuZGVmaW5lZCIsImdlbmVyYXRlRHVlUHJvamVjdHMiLCJkdWVUeXBlIiwiaGFzQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiZmlyc3RDaGlsZCIsInRleHRDb250ZW50IiwiZHVlUHJvamVjdERpdiIsImdlbmVyYXRlUHJpb3JpdHlQcm9qZWN0cyIsInByaW9yaXR5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInByb2plY3QiLCJ0YXJnZXQiLCJjb250YWlucyIsImNsb3Nlc3QiLCJBcnJheSIsImZyb20iLCJwYXJlbnROb2RlIiwiY2hpbGRyZW4iLCJpbmRleE9mIiwicHJvamVjdERpdiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwidGFzayIsInRhc2tJbnB1dCIsImNoZWNrQm94IiwidmFsdWUiLCJjaGVja2VkIiwiZ2VuZXJhdGVUYXNrTGlzdCIsImV2ZW50IiwidGFyZ2V0VGFzayIsInRhc2tPYmplY3QiLCJjdXJyZW50VGFzayIsInNwbGljZSIsImNyZWF0ZVByb2plY3REaXYiLCJkZWxldGVQcm9qZWN0QnV0dG9uIiwiZWRpdFByb2plY3RCdXR0b24iLCJwcm9qZWN0VGl0bGVEaXYiLCJlZGl0UHJvamVjdERpdiIsImFkZFByb2plY3RMaXN0IiwiZWRpdFByb2plY3QiLCJmb3JtIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImFkZEJ1dHRvbiIsImNhbmNlbEJ1dHRvbiIsImVkaXRUaXRsZSIsImVkaXREZXNjcmlwdGlvbiIsImVkaXREYXRlIiwiZWRpdEJ1dHRvbiIsImVkaXRDYW5jZWxCdXR0b24iLCJteVByb2plY3RBcnJheSIsInByaW9yaXR5VmFsdWUiLCJjcmVhdGVQcm9qZWN0IiwidGFza3MiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0IiwiZGlzcGxheUZvcm0iLCJuZXdQcm9qZWN0IiwicHVzaCIsImJ1dHRvbiIsImRpc3BsYXlFZGl0Rm9ybSJdLCJzb3VyY2VSb290IjoiIn0=